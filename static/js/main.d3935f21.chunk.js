(this["webpackJsonpwhat-up-china"]=this["webpackJsonpwhat-up-china"]||[]).push([[0],{12:function(t,e,n){},39:function(t,e){},45:function(t,e,n){"use strict";n.r(e);var r=n(0),a=n(2),c=n.n(a),s=n(18),i=n.n(s),u=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,46)).then((function(e){var n=e.getCLS,r=e.getFID,a=e.getFCP,c=e.getLCP,s=e.getTTFB;n(t),r(t),a(t),c(t),s(t)}))},o=(n(25),n(12),n(3)),p=n(4),l=n(8),h=n(7),b=n(1),v=n.n(b),j=n(19),f=n(5),d=n(11),x=n.n(d),O=function(){function t(){Object(o.a)(this,t)}return Object(p.a)(t,[{key:"getTopNews",value:function(){var t=Object(f.a)(v.a.mark((function t(){var e;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,x.a.get("https://newsapi.org/v2/top-headlines?country=cn&apiKey=6d7709b0ec234faab6e438466941c2ae");case 3:return e=t.sent,t.abrupt("return",JSON.parse(e.text).articles);case 7:return t.prev=7,t.t0=t.catch(0),t.abrupt("return",t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(){return t.apply(this,arguments)}}()},{key:"localiseNewsArticle",value:function(){var t=Object(f.a)(v.a.mark((function t(e,n){return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.translate(e.description,n);case 3:return e.description=t.sent,t.next=6,this.translate(e.title,n);case 6:e.title=t.sent,t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),console.error(t.t0);case 12:return t.abrupt("return",e);case 13:case"end":return t.stop()}}),t,this,[[0,9]])})));return function(e,n){return t.apply(this,arguments)}}()},{key:"translate",value:function(){var t=Object(f.a)(v.a.mark((function t(e,n){var r;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,x.a.post("https://translation.googleapis.com/language/translate/v2",{body:{q:e,source:"zh",target:n,format:"text"},headers:{"Content-Type":"application/json",Authorization:"Bearer "}});case 3:return r=t.sent,t.abrupt("return",r.data.translations.translatedText);case 7:return t.prev=7,t.t0=t.catch(0),console.error(t.t0),t.abrupt("return",e);case 11:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e,n){return t.apply(this,arguments)}}()}]),t}(),k=function(t){Object(l.a)(n,t);var e=Object(h.a)(n);function n(t){var r;return Object(o.a)(this,n),(r=e.call(this,t)).state={articles:[]},r.props=t,r.api=new O,r}return Object(p.a)(n,[{key:"componentDidMount",value:function(){var t=Object(f.a)(v.a.mark((function t(){var e,n,r,a,c;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e=[],t.next=4,this.api.getTopNews();case 4:n=t.sent,r=Object(j.a)(n),t.prev=6,r.s();case 8:if((a=r.n()).done){t.next=17;break}return c=a.value,t.t0=e,t.next=13,this.api.localiseNewsArticle(c,"en");case 13:t.t1=t.sent,t.t0.push.call(t.t0,t.t1);case 15:t.next=8;break;case 17:t.next=22;break;case 19:t.prev=19,t.t2=t.catch(6),r.e(t.t2);case 22:return t.prev=22,r.f(),t.finish(22);case 25:this.setState({articles:e}),t.next=31;break;case 28:t.prev=28,t.t3=t.catch(0),alert(t.t3);case 31:case"end":return t.stop()}}),t,this,[[0,28],[6,19,22,25]])})));return function(){return t.apply(this,arguments)}}()},{key:"makeArticleDiv",value:function(t){var e="";return null!=t.urlToImage&&(e=Object(r.jsx)("img",{src:"https:".concat(t.urlToImage)})),Object(r.jsxs)("div",{children:[Object(r.jsx)("h2",{children:Object(r.jsx)("a",{href:t.url,children:t.title})}),Object(r.jsx)("p",{children:t.description}),e,Object(r.jsx)("p",{children:t.publishedAt})]})}},{key:"render",value:function(){var t=this;return Object(r.jsx)("div",{children:this.state.articles.map((function(e){return t.makeArticleDiv(e)}))})}}]),n}(a.Component),g=function(t){Object(l.a)(n,t);var e=Object(h.a)(n);function n(t){return Object(o.a)(this,n),e.call(this,t)}return Object(p.a)(n,[{key:"render",value:function(){return Object(r.jsxs)("div",{id:"results",children:[Object(r.jsx)("h2",{children:"Trending News"}),Object(r.jsx)(k,{})]})}}]),n}(a.Component);var w=function(){return Object(r.jsx)("div",{children:Object(r.jsx)(g,{})})};i.a.render(Object(r.jsx)(c.a.StrictMode,{children:Object(r.jsx)(w,{})}),document.getElementById("root")),u()}},[[45,1,2]]]);
//# sourceMappingURL=main.d3935f21.chunk.js.map